# ck组-18 -Euro S&P ：DeepRefiner Multi-layer Android Malware Detection System Applying Deep Neural Networks

## 数据集：
初始正常数据集：爬取google play2016.3月-5月的，传到VT，得到4W+正常app。

VirusShare和MassVet文章得到恶意app，用SHA256值去重，2015年之前的3.8W+恶意样本，2015到2016年的2.4w+恶意样本。最近几年研究android malware检测的最大数据集之一。

## 方法：
（1）	第一检测层
Apk文件->反编译得到xml文件，做xml文件检索得到values（资源请求等信息），表示成x维xml向量。接MLP作为第一层分类检测结果（根据阈值有一部分unknown）。

（2）	第二检测层
Apk文件apktool反汇编->dex字节码，包含200+dex指令（指令的意思是操作码+操作数类型+操作数）
Bytecode2Vec：
1Bytecode pairing：构建字节码词汇表，
将字节码和上下文做pair，上下文窗口size C。
用skip-gram input是bytecode的one-hot V维（指令数）向量，output是上下文（C×V维）。
最终的Bytecode vector表示（V*K）。

Dex字节码每行一个Bytecode vector，所以是不定长输入，接多层LSTM，LSTM最后有一个max pooling可以吧不定长feature pool到相同size给softmax。

Method-level的语义：Bytecode2Vec得到？
App-level的语义：LSTM得到

